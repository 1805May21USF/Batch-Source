<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>DOM</title>
</head>
<body>
    <div>
   	 <div>
   		 <h3>
   			 Sum: <span id="sum"></span>
   		 </h3>
   		 <h5 id="currentTime"></h5>
   	 </div>
   	 <div>
   		 <h1>
   			 United <span data-customAttr="USA">States</span> of America (<span>USA</span>)
   		 </h1>
   		 <div>
   			 <a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click
   				 Here</a>
   		 </div>
   		 <a>Click Here</a> <a>Click <span>Here1</span></a> <a>Click Here</a>
   		 <div>
   			 <select name="colors">
   				 <option value="green">Green</option>
   				 <option value="blue">Blue</option>
   				 <option value="red" selected="selected">Red</option>
   				 <option value="purple">Purple</option>
   				 <option value="yellow" selected="selected">Yellow</option>
   			 </select>
   		 </div>
   	 </div>
   	 <p id="helloWorld">Hello, World!</p>
   	 <div>
   		 <table>
   			 <tr>
   				 <th>Name</th>
   				 <th>Department</th>
   			 </tr>
   			 <tr>
   				 <td class="empName">John</td>
   				 <td>Sales</td>
   			 </tr>
   			 <tr>
   				 <td class="empName">Amy</td>
   				 <td>Finance</td>
   			 </tr>
   			 <tr>
   				 <td class="empName">Austin</td>
   				 <td>Sales</td>
   			 </tr>
   			 <tr>
   				 <td class="empName">Katie</td>
   				 <td>Marketing</td>
   			 </tr>
   			 <tr>
   				 <td class="empName" data-customAttr="court">Courtney</td>
   				 <td>Sales</td>
   			 </tr>
   			 <tr>
   				 <td class="empName">Scout</td>
   				 <td>Sales</td>
   			 </tr>
   		 </table>
   	 </div>
   	 <form id="firstForm">
   		 <a>Click <span>Here2</span></a> <input type="text"
   			 data-customAttr="7" /><br /> <input type="text" data-customAttr="24" /><br />
   		 <input type="radio" name="favoriteAnimal" value="dog" />Dog<br /> <input
   			 type="radio" name="favoriteColor" value="blue" />Blue<br /> <input
   			 id="num1" class="nums" type="text" /><br /> <input type="radio"
   			 name="favoriteAnimal" value="cat" />Cat<br /> <input type="radio"
   			 name="favoriteColor" value="red" />Red<br /> <input type="radio"
   			 name="favoriteAnimal" value="horse" />Horse<br /> <input
   			 type="radio" name="favoriteAnimal" value="dolphin" />Dolphin<br /> <a>Click
   			 <span>Here</span>
   		 </a><br /> <input type="radio" name="favoriteAnimal" value="eagle" />Eagle<br />
   		 <input type="radio" name="favoriteColor" value="green" />Green<br />
   		 <input type="radio" name="favoriteColor" value="orange" />Orange<br />
   		 <select name="hobbies">
   			 <option value="photography">Photography</option>
   			 <option value="football" selected="selected">Football</option>
   			 <option value="kayaking" selected="selected">Kayaking</option>
   			 <option value="hiking">Hiking</option>
   			 <option value="programming" selected="selected">Programming</option>
   		 </select> <input id="num2" class="nums" type="text" /> <select name="skills">
   			 <option value="java">Java</option>
   			 <option value="net">.NET</option>
   			 <option value="dom" selected="selected">DOM</option>
   			 <option value="html">HTML</option>
   			 <option value="css">CSS</option>
   			 <option value="javascript" selected="selected">Javascript</option>
   		 </select>
   	 </form>
    </div>
    <a>Click Here</a>
    <a>Click <span data-customAttr="500">Here3</span></a>
    <a>Click Here</a>
    <script type="text/javascript">
   // 1. USA
   // Define function getUSA()
   // Find the html element that contains "USA".
   // Print that element's contents.
   function getUSA() {
      console.log("1. USA ");
      var spans = document.getElementsByTagName("span");
      for (var i = 0; i < spans.length; i++) {
         if (spans[i].textContent === "USA") {
            console.log(spans[i].textContent);
         }
      }
      console.log("");
   };
   getUSA();

   // 2. Sales
   // Define function getPeopleInSales()
   // Print the names of all the people in the sales department.
   function getPeopleInSales() {
      console.log("2. Sales ");
      var emps = document.getElementsByClassName("empName");

      for (var i = 0; i < emps.length; i++) {
         var empDep = emps[i].nextElementSibling.textContent;
         if (empDep === "Sales")
            console.log(emps[i].textContent);
      }
      console.log("");
   };
   getPeopleInSales();

   // 3. Click Here
   // Define function getAnchorChildren()
   // Find all anchor elements with a <span> child.
   // Print the contents of <span>
   function getAnchorChildren() {
      console.log("3. Click Here ");
      var spans = document.getElementsByTagName("span");

      for (var i = 0; i < spans.length; i++) {
         if (spans[i].parentNode.tagName == "A") {
            console.log(spans[i].textContent);
         }
      }
      console.log("");
   };
   getAnchorChildren();
     

   // 4. Hobbies
   // Define function getSkills()
   // Find all checked options in the 'skills' select element.
   // Print the value and the contents.
   function getSkills() {
      console.log("4. Hobbies ");
      var selectChildren = document.getElementsByName("skills")[0].childNodes;

      for (var i = 1; i < selectChildren.length; i+=2) {
         if (selectChildren[i].selected)
            console.log("Value: " + selectChildren[i].value + " Contents: " + selectChildren[i].childNodes[0].data);
      }
      console.log("");
   };
   getSkills();

   // 5. Custom Attribute
   // Define function getCustomAttribute()
   // Find all elements with "data-customAttr" attribute
   // Print the value of the attribute.
   // Print the element that has the attribute.
   function getCustomAttribute() {
      console.log("5. Custom Attribute ");
      var elements = document.querySelectorAll("[data-customAttr]");
      for (var i = 0; i < elements.length; i++) {
         for (var j = 0; j < elements[i].attributes.length; j++){
            if (elements[i].attributes[j].name === "data-customattr")
               console.log("Value: " + elements[i].attributes[j].value + " Element: " + elements[i].tagName);
         }
      }
      console.log("");
   };
   getCustomAttribute();

   // 6. Sum Event
   // NOTE: Write unobtrusive Javascript
   // Regarding these elements:
   // <input id="num1" class="nums" type="text"/>
   // <input id="num2" class="nums" type="text"/>
   // <h3>Sum: span id="sum"></span></h3>

   // Define onchange event handler.
   // Add <input> element values.
   // Put the sum in the <span> element.
   // If values cannot be added, put "Cannot add" in the <span> element
   var one = document.getElementById("num1");
   one.addEventListener("change", function() {
      var two = document.getElementById("num2");
      var value = Number.parseFloat(this.value) + Number.parseFloat(two.value);
      if (!value)
         document.getElementById("sum").textContent = "Cannot add";
      else
         document.getElementById("sum").textContent = value;
   });

   var two = document.getElementById("num2");
   two.addEventListener("change", function() {
      var one = document.getElementById("num1");
      var value = Number.parseFloat(this.value) + Number.parseFloat(one.value);
      if (!value)
         document.getElementById("sum").textContent = "Cannot add";
      else
         document.getElementById("sum").textContent = value;
   });

   // 7. Skills Event
   // NOTE: Write unobtrusive Javascript
   // When user selects a skill, create an alert with a message similar to:
   // "Are you sure CSS is one of your skills?"
   // NOTE: no alert should appear when user deselects a skill.
   var skills = document.getElementsByName("skills")[0];
   skills.addEventListener("change", function() {
      alert("Are you sure " + this.selectedOptions[0].textContent + " is one of your skills?");
   });

   // 8. Favorite Color Event
   // NOTE: Write unobtrusive Javascript
   // NOTE: This is regarding the favoriteColor radio buttons.
   // When a user selects a color, create an alert with a message similar to:
   // "So you like green more than blue now?"
   // In this example, green is the new value and blue is the old value.
   // Make the background color (of all favoriteColor radio buttons) 
   // the newly selected favoriteColor
   var radios = document.getElementsByName("favoriteColor");
   var lastColor = "no color";
   radios.forEach(function(el) {
      el.addEventListener("change", function() {
         alert("So you like " + this.value + " more than " + lastColor + " now?");
         var cur = this;
         radios.forEach(function(el) {
            el.style.backgroundColor = cur.value;
         })
         lastColor = this.value;
      });
   });


   // 9. Show/Hide Event
   // NOTE: Write unobtrusive Javascript
   // When user hovers over an employees name:
   // Hide the name if shown.
   // Show the name if hidden.
   var emps = Array.from(document.getElementsByClassName("empName"));
   emps.forEach(function(el) {
      el.addEventListener("mouseover", function() {
         this.style.visibility = "hidden";
      });
      el.addEventListener("mouseout", function() {
         this.style.visibility = "visible";
      });
   });

   // 10. Current Time
   // Regarding this element:
   //    <h5 id="currentTime"></h5>
   // Show the current time in this element in this format: 9:05:23 AM
   // The time should be accurate to the second without having to reload the page.
   window.setInterval(function() {
      var time = document.getElementById("currentTime");
      var d = new Date();
      var curTime;
      var am = true;
      var hours = d.getHours();
      var mins = d.getMinutes();
      var secs = d.getSeconds();
      if (hours > 12) {
         hours -= 12;
         am = false;
      }  
      if (mins < 10)
         mins = "0" + mins;
      if (secs < 10) 
         secs = "0" + secs;
      curTime = hours + ":" + mins + ":" + secs;
      if (am)
         curTime += " AM";
      else
         curTime += " PM";
      time.textContent = curTime;
   }, 1000);

   // 11. Delay
   // Regarding this element: 
   // <p id="helloWorld">Hello, World!</p>
   // Three seconds after a user clicks on this element, change the text to a random color.
   var hello = document.getElementById("helloWorld");
   hello.addEventListener("click", function() {
      var curP = this;
      var d = new Date();
      var colors = ["blue", "red", "purple"];
      window.setTimeout(function(){
         var ran = d.getSeconds();
         if (ran >= 0 && ran < 10 || ran >= 50)
            curP.style.color = colors[0];
         else if (ran >= 20 && ran < 30 || ran >= 40 && ran < 50)
            curP.style.color = colors[1];
         else
            curP.style.color = colors[2];
      }, 3000);
   });

   // 12. Walk the DOM
   // Define function walkTheDOM(node, func)
   // This function should traverse every node in the DOM. 
   // Use recursion.
   // On each node, call func(node).
   function walkTheDOM(node) {
   		if (node.children && node.children.length > 0)
   			walkTheDOM(node.children[0]);
   		else if (node.nextElementSibling) 
   			walkTheDOM(node.nextElementSibling);
   		else {
   			while (!node.nextElementSibling) {
	   			node = node.parentNode;
	   			if (node === document.body)
	   				return;
   			}
   			walkTheDOM(node.nextElementSibling);
   		}
   		console.log(node.tagName);
   };
   walkTheDOM(document.getElementsByTagName("html")[0]);

    </script>
</body>
</html>



